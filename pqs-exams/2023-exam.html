<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Programming and Quantitative Skills 2023 Exam</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="2023-exam_files/libs/clipboard/clipboard.min.js"></script>
<script src="2023-exam_files/libs/quarto-html/quarto.js"></script>
<script src="2023-exam_files/libs/quarto-html/popper.min.js"></script>
<script src="2023-exam_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="2023-exam_files/libs/quarto-html/anchor.min.js"></script>
<link href="2023-exam_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="2023-exam_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="2023-exam_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="2023-exam_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="2023-exam_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Programming and Quantitative Skills 2023 Exam</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="short-answer-questions-5-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="short-answer-questions-5-points">Short-Answer Questions (5 points)</h2>
<section id="question-1-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-1-1-point">Question 1 (1 point)</h3>
<p>Calculate <span class="math inline">\(\sqrt[3]{729}\)</span> using R.</p>
</section>
<section id="question-2-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-2-1-point">Question 2 (1 point)</h3>
<p>Calculate <span class="math inline">\(\log_3\left(243\right)\)</span> using R.</p>
</section>
<section id="question-3-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-3-1-point">Question 3 (1 point)</h3>
<p>If we create the following vector in R, what class will it be?</p>
<ul>
<li>Numeric.</li>
<li>Logical.</li>
<li>Character</li>
<li>A combination of some of numeric, logical and character.</li>
<li>Neither numeric nor logical nor character.</li>
</ul>
</section>
<section id="question-4-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-4-1-point">Question 4 (1 point)</h3>
<p>Write an R command to generate a numeric vector containing the following sequence:</p>
<p><span class="math display">\[
(0.00, 0.01, 0.02, 0.03, \dots, 0.97, 0.98, 0.99, 1.00, 0.00, 0.01, 0.02, 0.03, \dots, 0.97, 0.98, 0.99, 1.00)
\]</span> The resulting sequence should have 202 elements.</p>
</section>
<section id="question-5-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-5-1-point">Question 5 (1 point)</h3>
<p>The logical vectors <code>a</code> and <code>b</code> have equal length. Which of the following options is always the same as <code>!a | !b</code>, regardless of the contents of <code>a</code> and <code>b</code>?</p>
<ul>
<li><code>a &amp; b</code></li>
<li><code>!(a | b)</code></li>
<li><code>!(a &amp; b)</code></li>
</ul>
</section>
</section>
<section id="data-analysis-5-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="data-analysis-5-points">Data Analysis (5 points)</h2>
<p>Download the dataset <a href="https://walshc.github.io/pqs/rental.csv">rental.csv</a>. The dataset contains information on the population, student enrollment, average rent and average income for 64 American cities in 1980 and 1990. The variable descriptions are:</p>
<ul>
<li><code>city</code>: A number identifying the city.</li>
<li><code>year</code>: The year.</li>
<li><code>pop</code>: Population of the city.</li>
<li><code>enroll</code>: Student enrollment in the city (total number of students).</li>
<li><code>rent</code>: Average rent in the city (in dollars).</li>
<li><code>avginc</code>: Average annaul income in the city (in dollars).</li>
</ul>
<section id="question-6-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-6-1-point">Question 6 (1 point)</h3>
<p>How many observations are in the dataset?</p>
</section>
<section id="question-7-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-7-1-point">Question 7 (1 point)</h3>
<p>Create a variable called <code>studentratio</code> which is the proportion of the city’s population made up by students in that year. What is the median of this variable?</p>
</section>
<section id="question-8-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-8-1-point">Question 8 (1 point)</h3>
<p>What was the average rent across cities in 1980?</p>
</section>
<section id="question-9-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-9-1-point">Question 9 (1 point)</h3>
<p>How many cities had an average rent exceeding $400 in 1990?</p>
</section>
<section id="question-10-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-10-1-point">Question 10 (1 point)</h3>
<p>Create a scatter plot with:</p>
<ul>
<li><code>avginc</code> on the horizontal axis</li>
<li><code>rent</code> on the vertical axis.</li>
</ul>
<p>Choose the answer below which best describes what we can see in the plot.</p>
<ul>
<li>Cities with higher average income usually have higher average rent.</li>
<li>Cities with higher average income usually have lower average rent.</li>
<li>There is no relationship between average income and average rent.</li>
<li>Cities with very low and very high average income have low average rent, but the cities with in-between average income have the highest average rent.</li>
</ul>
</section>
</section>
<section id="data-cleaning-4-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="data-cleaning-4-points">Data Cleaning (4 points)</h2>
<p>Download the dataset <a href="https://walshc.github.io/pqs/copper.csv">copper.csv</a>. The dataset contains the closing price for the copper futures on the stock market (variable “Price”) each day throughout 2022, together with the opening, highest and lowest price in that day. Furthermore, it includes the volume traded and the percentage daily change in the closing price.</p>
<p>In this question you will need clean this dataset to answer the questions that follow.</p>
<p>You should do the following cleaning tasks:</p>
<ol type="1">
<li>Format the <code>Date</code> variable to a date.</li>
<li>Sort the data by <code>Date</code> ascending (the earliest date in the data should be first, the most recent date last).</li>
<li>Drop rows with any missing data.</li>
<li>Convert <code>Price</code>, <code>Open</code>, <code>High</code> and <code>Low</code> to numeric.</li>
<li>Convert <code>Change</code> to numeric. <em>Tip:</em> Use <code>gsub("\\%", "", x)</code> to remove a percentage symbol from <code>x</code>.</li>
<li>Change the name of the variable <code>DayOfWeek</code> to <code>day_of_week</code>.</li>
<li>Convert all remaining variable names to lower case.</li>
</ol>
<p>If you did all the steps correctly, you should have 260 observations. The average of the <code>high</code> variable should be 4.047335. The average of the <code>change</code> variable should be -0.046. If only some of these match your cleaned dataset, you will still be able to answer some of the questions correctly.</p>
<section id="question-11-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-11-1-point">Question 11 (1 point)</h3>
<p>What is the median of the variable <code>change</code> in the cleaned data?</p>
</section>
<section id="question-12-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-12-1-point">Question 12 (1 point)</h3>
<p>On what day of the week was the maximum value of the variable <code>high</code>?</p>
</section>
<section id="question-13-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-13-1-point">Question 13 (1 point)</h3>
<p>For Mondays in the cleaned data, what is the mean of the variable <code>open</code>? That is, calculate the mean of the variable <code>open</code> on Mondays only.</p>
</section>
<section id="question-14-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-14-1-point">Question 14 (1 point)</h3>
<p>Create a variable called <code>increase</code> from the variable <code>change</code> according to:</p>
<p><span class="math display">\[
increase=
\begin{cases}
1 &amp; \text{ if } change &gt; 0 \\
0 &amp; \text{ otherwise}  \\
\end{cases}
\]</span></p>
<p>What is the sum of the variable <code>increase</code> in the cleaned data?</p>
<p><em>Hint:</em> Use the <code>ifelse()</code> function.</p>
</section>
</section>
<section id="optimization-3-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="optimization-3-points">Optimization (3 points)</h2>
<p>The following 3 questions will involve working with the following mathematical function defined over all real numbers <span class="math inline">\(x\)</span>: <span class="math display">\[f(x) = x^2 - 20x + 150\]</span></p>
<section id="question-15-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-15-1-point">Question 15 (1 point)</h3>
<p>Plot the function between the <span class="math inline">\(x\)</span> values <span class="math inline">\(-25\)</span> and <span class="math inline">\(+40\)</span>. Choose the answer below which best describes the shape of this function:</p>
<ul>
<li>Straight line</li>
<li>Flat</li>
<li>U shape</li>
<li>Inverted U shape (upside-down U)</li>
</ul>
<p>Note: you do not need to store your answer to this question in your R script.</p>
</section>
<section id="question-16-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-16-1-point">Question 16 (1 point)</h3>
<p>Use R to find the value of <span class="math inline">\(x\)</span> at an extreme point of this function.</p>
</section>
<section id="question-17-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-17-1-point">Question 17 (1 point)</h3>
<p>What value does the function take at the extreme point?</p>
</section>
</section>
<section id="aggregating-reshaping-and-merging-3-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="aggregating-reshaping-and-merging-3-points">Aggregating, Reshaping and Merging (3 points)</h2>
<p>Download the two datasets:</p>
<ol type="1">
<li><a href="https://walshc.github.io/pqs/college-enrollment.csv">college-enrollment.csv</a> - this dataset contains 3 variables: <code>country</code>, <code>year</code> and <code>college</code>. The variable <code>college</code> is the total number of people enrolled in third-level education in the country divided by the total population of people of college-going age (then multiplied by 100). Enrollment can exceed 100% if there are many older adults attending college.</li>
<li><a href="https://walshc.github.io/pqs/r-and-d.csv">r-and-d.csv</a> - this dataset contains 3 variables: <code>country</code>, <code>year</code> and <code>rd</code>. The variable <code>rd</code> is the country’s spending on research and development (R&amp;D) as a percentage of gross domestic product (GDP) in that year (ranging from 0 to 100).</li>
</ol>
<section id="question-18-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-18-1-point">Question 18 (1 point)</h3>
<p>Using the dataset <code>college-enrollment.csv</code>, get the number of observations by country. How many countries have exactly 24 observations in the dataset? That is, how many countries have data for every year over the period 1996-2019?</p>
<p><em>Hint:</em> One way to do this is to use the <code>aggregate</code> function to count the number of observations per country (with the function <code>length</code> in the <code>FUN</code> argument). Then find how many rows of this output has a value equal to 24.</p>
</section>
<section id="question-19-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-19-1-point">Question 19 (1 point)</h3>
<p>Using the dataset <code>r-and-d.csv</code>, perform the following steps:</p>
<ol type="1">
<li>Create a subset of the data which only includes data for the years 2000 and 2010.</li>
<li>Reshape this subset of the data to <em>wide format</em>. You should have a dataset with 3 columns: (1) the country, (2) R&amp;D expenditure as a % of GDP in 2000, (3) R&amp;D expenditure as a % of GDP in 2010.</li>
<li>Drop any rows with missing data.</li>
</ol>
<p>If you performed this correctly, your dataset should have 60 rows where the first 3 rows are:</p>
<pre><code>     country    2000    2010
1  Argentina 0.43884 0.56104
2    Armenia 0.19106 0.24139
3  Australia 1.57320 2.37075</code></pre>
<p>Calculate the change in the R&amp;D expenditure as a percentage of GDP from 2000 to 2010. That is, calculate the R&amp;D expenditure as a % of GDP in 2010 minus the R&amp;D expenditure as a % of GDP in 2000.</p>
<p>What is the average change across countries?</p>
<p><em>Tip:</em> if your reshaped data is called <code>wide</code>, you can get the change from 2000 to 2010 with <code>wide[, 3] - wide[, 2]</code>.</p>
</section>
<section id="question-20-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-20-1-point">Question 20 (1 point)</h3>
<p>Create a scatter plot with:</p>
<ul>
<li>College enrollment across countries in 1996 on the horizontal axis.</li>
<li>R&amp;D expenditure as a percentage of GDP across countries in 1996 on the vertical axis.</li>
</ul>
<p>Choose the answer below which best describes what we see in the plot:</p>
<ul>
<li>Countries with higher college enrollment usually spend more on R&amp;D as a percentage of GDP.</li>
<li>Countries with higher college enrollment usually spend less on R&amp;D as a percentage of GDP.</li>
<li>There is no apparent association between college enrollment and R&amp;D expenditure from the scatter plot.</li>
<li>Countries with very high and very low college enrollment spend the most on R&amp;D (as a % of GDP), but countries with college enrollment close to the average spend the least on R&amp;D (as a % of GDP).</li>
</ul>
<p><em>Tip:</em> Merge the two datasets <code>college-enrollment.csv</code> and <code>r-and-d.csv</code> by the variables <code>"country"</code> and <code>"year"</code>. Create a subset of this merged dataset containing only data from the year 1996. Then create the scatter plot using the 1996 data.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>