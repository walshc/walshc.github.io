<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Programming and Quantitative Skills 2025 Exam Solutions</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="2025-exam-solutions_files/libs/clipboard/clipboard.min.js"></script>
<script src="2025-exam-solutions_files/libs/quarto-html/quarto.js"></script>
<script src="2025-exam-solutions_files/libs/quarto-html/popper.min.js"></script>
<script src="2025-exam-solutions_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="2025-exam-solutions_files/libs/quarto-html/anchor.min.js"></script>
<link href="2025-exam-solutions_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="2025-exam-solutions_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="2025-exam-solutions_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="2025-exam-solutions_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="2025-exam-solutions_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="2025-exam-solutions.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Programming and Quantitative Skills 2025 Exam Solutions</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""> <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&amp;family=Fira+Sans&amp;display=swap" rel="stylesheet"></p>
<section id="short-answer-questions-4-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="short-answer-questions-4-points">Short-Answer Questions (4 points)</h2>
<section id="question-1-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-1-1-point">Question 1 (1 point)</h3>
<p>Use R to calculate the following:</p>
<p><span class="math display">
\frac{2^3 + \log_3 (10)}{\sqrt{12}}
</span> Provide both the R command and numeric value in your answer.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">2</span><span class="sc">^</span><span class="dv">3</span> <span class="sc">+</span> <span class="fu">log</span>(<span class="dv">10</span>, <span class="dv">3</span>)) <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.914436</code></pre>
</div>
</div>
</section>
<section id="question-2-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-2-1-point">Question 2 (1 point)</h3>
<p>Write an R command in the box below that repeats the sequence <span class="math inline">(10, 9, 8, \dots, 3, 2, 1)</span> five times.</p>
<p>The resulting sequence should have the form: <span class="math display">(10, 9, 8, \dots, 3, 2, 1, 10, 9, 8, \dots, 3, 2, 1, \dots)</span> and should have 50 elements in total.</p>
<p>Your answer must use a sequence-generating function. It is not permitted to write out the full vector manually.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">10</span>, <span class="at">to =</span> <span class="dv">1</span>, <span class="at">by =</span> <span class="sc">-</span><span class="dv">1</span>), <span class="at">times =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 10  9  8  7  6  5  4  3  2  1 10  9  8  7  6  5  4  3  2  1 10  9  8  7  6
[26]  5  4  3  2  1 10  9  8  7  6  5  4  3  2  1 10  9  8  7  6  5  4  3  2  1</code></pre>
</div>
</div>
<p>Another valid approach would be:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">10</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">times =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 10  9  8  7  6  5  4  3  2  1 10  9  8  7  6  5  4  3  2  1 10  9  8  7  6
[26]  5  4  3  2  1 10  9  8  7  6  5  4  3  2  1 10  9  8  7  6  5  4  3  2  1</code></pre>
</div>
</div>
</section>
<section id="question-3-1-points" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-3-1-points">Question 3 (1 points)</h3>
<p>Write an R command using the <code>%in%</code> operator that returns the elements of <code>x</code> that are fruits. That is, the elements of <code>x</code> that are contained somewhere in the vector <code>fruits</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"carrot"</span>, <span class="st">"dill"</span>, <span class="st">"egg"</span>, <span class="st">"fig"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>fruits <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"fig"</span>, <span class="st">"grape"</span>, <span class="st">"lemon"</span>, <span class="st">"mango"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The code you provide in your answer does not need to include these above 2 lines .</p>
<p>The output of your command should be <code>[1] "apple"  "banana" "fig"</code></p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>x[x <span class="sc">%in%</span> fruits]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"  "banana" "fig"   </code></pre>
</div>
</div>
</section>
<section id="question-4-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-4-1-point">Question 4 (1 point)</h3>
<p>The variable <code>x</code> is a numeric vector. Write an R command using the <code>ifelse()</code> function that returns a new vector with 1s whenever <code>x</code> is positive and 0s whenever <code>x</code> is not positive (0 or negative).</p>
<p>Defined mathematically, for the vector <span class="math inline">\boldsymbol{x}=(x_1,x_2,\dots,x_n)</span>, for each element <span class="math inline">x_i</span> the output of your command should be: <span class="math display">
\begin{cases} 1 &amp; \text{ if } x_i &gt; 0 \\ 0 &amp; \text{ otherwise} \end{cases}
</span> for <span class="math inline">i=1,2,\dots,n</span>.</p>
<p>For example, if <code>x</code> is the vector <code>c(-2, 1, 0, -1, 2)</code>, then your command should return the vector <span class="math inline">(0, 1, 0, 0, 1)</span>.</p>
<p><strong>Answer:</strong></p>
<pre><code>ifelse(x &gt; 0, 1, 0)</code></pre>
<p>We can test this using the example provided:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="sc">-</span><span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ifelse</span>(x <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0 1 0 0 1</code></pre>
</div>
</div>
</section>
</section>
<section id="data-analysis-7-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="data-analysis-7-points">Data Analysis (7 points)</h2>
<p>Download the dataset <a href="https://walshc.github.io/pqs/sales-data-nov-2025.csv">sales-data-nov-2025.csv</a>. The dataset contains information on the total sales of a firm for different products in different regions where it has stores in November 2025. The variable descriptions are:</p>
<ul>
<li><code>product_id</code>: The product ID (<code>A</code>, <code>B</code>, <code>C</code> and <code>D</code>).</li>
<li><code>region</code>: The province (<code>Noord-Brabant</code>, <code>Gelderland</code> or <code>Limburg</code>).</li>
<li><code>price</code>: The selling price of the product.</li>
<li><code>sales</code>: The total number of units sold of that product in that region in November 2025.</li>
</ul>
<p>When reading the dataset into R, assign it to <code>df</code>.</p>
<section id="question-5-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-5-1-point">Question 5 (1 point)</h3>
<p>What is the median of the variable <code>sales</code>?</p>
<p>Provide both the numerical answer and the R command required to obtain the answer (if the dataframe is assigned to <code>df</code>).</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"sales-data-nov-2025.csv"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(df<span class="sc">$</span>sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1026.5</code></pre>
</div>
</div>
</section>
<section id="question-6-2-points" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-6-2-points">Question 6 (2 points)</h3>
<p>Part (a): Write an R command in the box below that creates a new variable in <code>df</code> called <code>revenue</code>, which is price multiplied by sales.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>revenue <span class="ot">&lt;-</span> df<span class="sc">$</span>price <span class="sc">*</span> df<span class="sc">$</span>sales</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Part (b): Write an R command in the box below that returns the total revenue of the firm in Limburg (i.e.&nbsp;the sum of revenue for the 4 products in Limburg).</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(df<span class="sc">$</span>revenue[df<span class="sc">$</span>region <span class="sc">==</span> <span class="st">"Limburg"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1710910</code></pre>
</div>
</div>
</section>
<section id="question-7-2-points" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-7-2-points">Question 7 (2 points)</h3>
<p>Create a scatter plot with <code>price</code> on the horizontal axis and <code>sales</code> on the vertical axis. Make the color of the points vary with the sales region.</p>
<p>Based on your plot, answer the following 2 questions.</p>
<p>Part (a): Choose the correct option from the following.</p>
<ul>
<li>Products with a higher price on average sell <em>fewer</em> units compared to products with a lower price.</li>
<li>Products with a higher price on average sell <em>more</em> units compared to products with a lower price.</li>
<li>Products with a higher price on average sell <em>roughly the same number</em> of units compared to products with a lower price.</li>
<li>There is no clear relationship between price and sales in these data.</li>
</ul>
<p>Part (b): Choose the correct option from the following.</p>
<p>Based on the colors of the points:</p>
<ul>
<li>For each product, <em>Gelderland</em> typically has lower sales than the other two regions.</li>
<li>For each product, <em>Limburg</em> typically has lower sales than the other two regions.</li>
<li>For each product, <em>Noord-Brabant</em> typically has lower sales than the other two regions.</li>
</ul>
<p><strong>Answer:</strong> We first make the plot:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(price, sales, <span class="at">color =</span> region)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="2025-exam-solutions_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We can see that when price is high, the sales is lower. Therefore the correct option for the first question is: “Products with a higher price on average sell <em>fewer</em> units compared to products with a lower price.”</p>
<p>Note that part (a) could be answered without making the color vary by region.</p>
<p>Looking at the colors of the points, we can see that the red dots corresponding to Gelderland is always lower down compared to the other two regions. Therefore the correct option for part (b) is “For each product, <em>Gelderland</em> typically has lower sales than the other two regions.”</p>
</section>
<section id="question-8-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-8-1-point">Question 8 (1 point)</h3>
<p>Write an R command in the box below using the <code>aggregate()</code> function that returns the total number of units sold for each product.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(sales <span class="sc">~</span> product_id, <span class="at">data =</span> df, <span class="at">FUN =</span> sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  product_id sales
1          A  2908
2          B  3283
3          C  3515
4          D  1646</code></pre>
</div>
</div>
</section>
<section id="question-9-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-9-1-point">Question 9 (1 point)</h3>
<p>Using an appropriate function from the <code>reshape2</code> package, write an R command in the box below to reshape the data such that there are 4 rows, one for each product, and the columns are:</p>
<ul>
<li>The product ID.</li>
<li>The sales for each product in Gelderland.</li>
<li>The sales for each product in Limburg.</li>
<li>The sales for each product in Noord-Brabant.</li>
</ul>
<p>The output should be the following:</p>
<pre><code>  product_id Gelderland Limburg Noord-Brabant
1          A        874    1082           952
2          B        971    1111          1201
3          C       1106    1253          1156
4          D        453     589           604</code></pre>
<p><strong>Hint:</strong> Load the <code>reshape2</code> package using the command <code>library(reshape2)</code>. You do not need to include loading this package in your answer.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dcast</span>(df, product_id <span class="sc">~</span> region, <span class="at">value.var =</span> <span class="st">"sales"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  product_id Gelderland Limburg Noord-Brabant
1          A        874    1082           952
2          B        971    1111          1201
3          C       1106    1253          1156
4          D        453     589           604</code></pre>
</div>
</div>
</section>
</section>
<section id="data-cleaning-7-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="data-cleaning-7-points">Data Cleaning (7 points)</h2>
<p>Download the following two datasets:</p>
<ul>
<li><a href="https://walshc.github.io/pqs/ice-cream-sales-2025.csv">ice-cream-sales-2025.csv</a></li>
<li><a href="https://walshc.github.io/pqs/temperature-2025.csv">temperature-2025.csv</a></li>
</ul>
<p>The first dataset contains the total number of ice cream scoops sold by an ice cream salesman in Tilburg in the summer of 2025 (May 15 to September 20). This salesman takes Mondays off every week, so it says <code>"Day off"</code> for the <code>sales</code> variable on Mondays.</p>
<p>The second dataset contains the daily high temperature in Tilburg on each date in Tilburg from May-September 2025.</p>
<p>When reading the datasets into R, assign <code>ice-cream-sales-2025.csv</code> to <code>df1</code> and <code>temperature-2025.csv</code> to <code>df2</code>.</p>
<section id="question-10-6-points" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-10-6-points">Question 10 (6 points)</h3>
<p>Perform the following cleaning steps:</p>
<p>Part (a): Write an R command in the box below using the <code>as.Date()</code> function that will correctly format the <code>date</code> variable in <code>df1</code> to an R date.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"ice-cream-sales-2025.csv"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df1<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(df1<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%d-%m-%y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Part (b): Write an R command in the box below that will drop all Mondays from <code>df1</code>. After this command <code>df1</code> should have 111 rows.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> df1[df1<span class="sc">$</span>day_of_week <span class="sc">!=</span> <span class="st">"Mon"</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Part (c): Write an R command in the box below that will convert the <code>sales</code> variable in <code>df1</code> to numeric.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df1<span class="sc">$</span>sales <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(df1<span class="sc">$</span>sales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Part (d): Write an R command in the box below that will create a variable called <code>weekend</code> that is <code>TRUE</code> if the day of the week is Saturday or Sunday and <code>FALSE</code> otherwise.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df1<span class="sc">$</span>weekend <span class="ot">&lt;-</span> df1<span class="sc">$</span>day_of_week <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Sat"</span>, <span class="st">"Sun"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Part (e): Write an R command in the box below that will convert the <code>date</code> variable in <code>df2</code> to an R date.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"temperature-2025.csv"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>df2<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(df2<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Part (f): Write an R command in the box below that will merge <code>df1</code> and <code>df2</code> by the <code>date</code> variable. Assign the output of this command to <code>df</code>.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">merge</span>(df1, df2, <span class="at">by =</span> <span class="st">"date"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-11-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-11-1-point">Question 11 (1 point)</h3>
<p>If you performed the data cleaning steps from the previous exercise correctly, your final dataset should match the following file: <a href="https://walshc.github.io/pqs/ice-cream-sales-2025.csv">temperature-sales-2025.csv</a></p>
<p>Using your cleaned dataset (or the linked file above), calculate the average sales on days that were <em>either</em> the weekend <em>or</em> had a temperature of at least 30 degrees.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df<span class="sc">$</span>sales[df<span class="sc">$</span>weekend <span class="sc">|</span> df<span class="sc">$</span>temp <span class="sc">&gt;=</span> <span class="dv">30</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 500.3488</code></pre>
</div>
</div>
</section>
</section>
<section id="optimization-2-points" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="optimization-2-points">Optimization (2 points)</h2>
<p>The following 2 questions will involve working with the following mathematical function defined over all real numbers <span class="math inline">x</span>:</p>
<p><span class="math display">f(x) = 10 - 4x + 2x^2</span></p>
<section id="question-12-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-12-1-point">Question 12 (1 point)</h3>
<p>Plot the function between the <span class="math inline">x</span> values <span class="math inline">-3</span> and <span class="math inline">+5</span>. Add the correct options in the boxes below that best describe the plot.</p>
<p>Part (a): The shape of the function is <em>a straight line / flat / U-shaped / inverse U-shaped</em>.</p>
<p>Part (b): When <span class="math inline">f(x) = 40</span>, the corresponding values of <span class="math inline">x</span> are <span class="math inline">\_\_\_</span> and <span class="math inline">\_\_\_</span>.</p>
<p>Part (c): At <span class="math inline">x=3</span>, the function is <em>downward-sloping / flat / upward-sloping</em>.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="dv">10</span> <span class="sc">-</span> <span class="dv">4</span><span class="sc">*</span>x <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> x<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(y)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">5</span>, <span class="at">length.out =</span> <span class="dv">2000</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">f</span>(x)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(x, y)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(x, y)) <span class="sc">+</span> <span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="2025-exam-solutions_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Part (a) The shape of the function is U-shaped.</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Part (b) The values of x when f(x)=40 are -3 and +5.</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Part (c) At x=3, the function is upward-sloping.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-13-1-point" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="question-13-1-point">Question 13 (1 point)</h3>
<p>Use R to find the value of <span class="math inline">x</span> at an extreme point of this function.</p>
<p>Part (a) Type this value of <span class="math inline">x</span> in the box below.</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>f_max <span class="ot">&lt;-</span> <span class="fu">optimize</span>(f, <span class="fu">c</span>(<span class="sc">-</span><span class="dv">100</span>, <span class="dv">100</span>), <span class="at">maximum =</span> <span class="cn">FALSE</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>f_max<span class="sc">$</span>minimum</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Part (b): What value does the function take at the extreme point?</p>
<p><strong>Answer:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>f_max<span class="sc">$</span>objective</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># or alternatively:</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(f_max<span class="sc">$</span>minimum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 8</code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>